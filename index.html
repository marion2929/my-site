<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <title>まりおんのサイト | ホーム</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="style.css">
  <!-- （任意）Mochiy Pop One を使う場合はフォント読み込みもここに -->
  <!--
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Mochiy+Pop+One&display=swap" rel="stylesheet">
  -->
</head>
<body>

<header>
  <div class="header-inner">
    <h1 class="pop-font">まりおんの創作物置き場</h1>
    <button class="menu-btn" id="menuBtn" aria-expanded="false" aria-controls="siteNav" aria-label="メニューを開く">☰</button>
    <nav id="siteNav">
      <a href="index.html" class="active">ホーム</a>
      <a href="about.html">プロフィール</a>
      <a href="gallery.html">ギャラリー</a>
      <a href="music.html">音楽</a>
      <a href="app.html">AIアプリ</a>
      <a href="contact.html">お問い合わせ</a>
    </nav>
  </div>
</header>

<main>
  <h2>ようこそ！</h2>
  <p>ここは私の創作物を置くWebサイトです。</p>

  <!-- スライドショー -->
  <div class="hero-rotator" aria-label="景色ギャラリー">
    <img id="heroA" class="active" src="images/FADO01.png" alt="海の見える景色１">
    <img id="heroB" src="images/FADO02.png" alt="海の見える景色２">
  </div>
</main>


<footer>
  <p>© 2025 まりおん All rights reserved.</p>
</footer>

<!-- ← ← ← スクリプトはここ（本文のいちばん最後） -->
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const btn = document.getElementById('menuBtn');
    const nav = document.getElementById('siteNav');
    if (!btn || !nav) return;

    btn.addEventListener('click', () => {
      const open = document.body.classList.toggle('nav-open');
      btn.setAttribute('aria-expanded', open ? 'true' : 'false');
    });

    nav.addEventListener('click', (e) => {
      if (e.target.tagName === 'A') {
        document.body.classList.remove('nav-open');
        btn.setAttribute('aria-expanded', 'false');
      }
    });
  });
</script>

<script>
  // 切替える画像のリスト（必要に応じて追加/編集）
  const slides = [
    { src: 'FADO01.png', alt: '海の見える景色１' },
    { src: 'FADO02.png', alt: '海の見える景色２' },
    { src: 'FADO03.png', alt: '海の見える景色３' },
    { src: 'FADO04.png', alt: '草原と岩山１' },
    { src: 'FADO05.png', alt: '草原と岩山２' },
    { src: 'FADO06.png', alt: '草原と岩山３' },
    { src: 'FADO07.png', alt: '草原と岩山４' },
    { src: 'FADO08.png', alt: '草原と岩山５' },
    { src: 'FADO09.png', alt: '草原１' },
    { src: 'FADO10.png', alt: '草原２' },
    { src: 'FADO11.png', alt: '草原と街１' },
    { src: 'FADO12.png', alt: '草原と街２' },
  ];

  const imgA = document.getElementById('heroA');
  const imgB = document.getElementById('heroB');
  let current = 0;     // 現在のインデックス
  let showingA = true; // どっちのimgを表示中か
  let timer;

  // 次のインデックス
  function nextIndex(i) {
    return (i + 1) % slides.length;
  }

  // 次の画像をプリロードしてからフェード切替
  function swap() {
    const next = nextIndex(current);
    const target = showingA ? imgB : imgA; // 次に表示する方

    // 画像を先読み
    const pre = new Image();
    pre.onload = () => {
      target.src = slides[next].src;
      target.alt = slides[next].alt;

      // フェード（片方にactiveクラス）
      if (showingA) {
        imgA.classList.remove('active');
        imgB.classList.add('active');
      } else {
        imgB.classList.remove('active');
        imgA.classList.add('active');
      }

      showingA = !showingA;
      current = next;
    };
    pre.src = slides[next].src;
  }

  function start() {
    stop(); // 念のため
    timer = setInterval(swap, 5000); // 5秒間隔（好みで調整OK）
  }
  function stop() { if (timer) clearInterval(timer); }

  // タブが非表示のときは停止 → 再表示で再開（バッテリー節約）
  document.addEventListener('visibilitychange', () => {
    if (document.hidden) stop(); else start();
  });

  // 画像枚数が2枚未満ならスライドショーは実行しない
  if (slides.length >= 2) start();
</script>

</body>
</html>
